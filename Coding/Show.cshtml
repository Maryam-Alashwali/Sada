@model Sada.ViewModels.Tailor.TailorProfileViewModel
@{
    ViewData["Title"] = "Profile - Tailor";
    Layout = "_TailorLayout";
}

<div class="container py-4">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="mb-1">My Profile</h2>
            <p class="text-muted mb-0">Manage your profile information</p>
        </div>
        <a asp-area="Tailor" asp-controller="Profile" asp-action="Edit" class="btn btn-primary">
            <i class="fas fa-edit me-1"></i> Edit Profile
        </a>
    </div>

    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="fas fa-check-circle me-2"></i>
            @TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div class="row">
        <!-- Profile Information -->
        <div class="col-lg-8">
            <div class="data-card mb-4">
                <h5 class="mb-3">Personal Information</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="info-item mb-3">
                            <label class="form-label text-muted small mb-1">First Name</label>
                            <p class="mb-0 fw-semibold">@Model.TailorFirstName</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item mb-3">
                            <label class="form-label text-muted small mb-1">Last Name</label>
                            <p class="mb-0 fw-semibold">@Model.TailorLastName</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item mb-3">
                            <label class="form-label text-muted small mb-1">Email</label>
                            <p class="mb-0 fw-semibold">@Model.Email</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item mb-3">
                            <label class="form-label text-muted small mb-1">Phone</label>
                            <p class="mb-0 fw-semibold">@Model.TailorPhone</p>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="info-item mb-3">
                            <label class="form-label text-muted small mb-1">Address</label>
                            <p class="mb-0 fw-semibold">@Model.TailorAddress</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Sidebar -->
        <div class="col-lg-4">
            <!-- Profile Picture -->
            <div class="data-card mb-4 text-center">
                <div class="profile-avatar-container mb-3">
                    @if (!string.IsNullOrEmpty(Model.ExistingProfilePicture))
                    {
                        <img src="@Url.Content(Model.ExistingProfilePicture)"
                             class="profile-avatar-large"
                             alt="Profile Picture">
                    }
                    else
                    {
                        <div class="profile-avatar-placeholder">
                            <i class="fas fa-user fa-3x text-muted"></i>
                        </div>
                    }
                </div>
                <h5>@Model.TailorFirstName @Model.TailorLastName</h5>
                <p class="text-muted">Professional Tailor</p>
            </div>

            <!-- Account Status -->
            <div class="data-card">
                <h6 class="mb-3">Account Status</h6>
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <span class="text-muted">Verification Status:</span>
                    <span class="badge bg-@(Model.IsApproved == true ? "success" : "warning")">
                        @(Model.IsApproved == true ? "Verified" : "Pending Approval")
                    </span>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <span class="text-muted">Member Since:</span>
                    <span class="fw-semibold">@DateTime.Now.ToString("MMM yyyy")</span>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        .profile-avatar-large {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--light-teal);
        }

        .profile-avatar-placeholder {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--light-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            border: 4px solid var(--light-teal);
        }

        .info-item {
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }

            .info-item:last-child {
                border-bottom: none;
            }

        .data-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        :root {
            --light-blue: #DCE3F1;
            --light-teal: #BAC6C6;
            --lavender: #9C82A4;
            --purple: #6B527D;
            --dark-blue: #3E3A5D;
        }
    </style>
}